(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{108:function(e,a,t){e.exports=t(259)},218:function(e,a,t){},239:function(e,a,t){},240:function(e,a,t){},241:function(e,a,t){},242:function(e,a,t){},254:function(e,a,t){},257:function(e,a,t){},259:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(26),l=t.n(o),i=t(7),c=t(8),s=t(10),u=t(9),m=t(267),d=t(268),E=t(13),g=t(11),b=t(3),f=t(44),p=t.n(f),v=(t(85),t(261)),h=t(262),C=t(100),N=t(101),S=t(266),y=t(263),j=(t(218),t(6)),O=t.n(j),I=function(){return localStorage.getItem("jwt")},k=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(e){var r;return Object(i.a)(this,t),(r=a.call(this,e)).modules={toolbar:{container:[[{font:[]},{size:["small",!1,"large","huge"]},{header:[1,2,3]},{align:[]}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","clean"]]},clipboard:{matchVisual:!1}},r.formats=["header","font","size","bold","italic","underline","strike","blockquote","color","background","list","bullet","indent","align","link","image","video","code-block"],r.onChangeNoticiaTitular=function(e){r.setState({noticia:Object(b.a)(Object(b.a)({},r.state.noticia),{},{Titular:e})})},r.onChangeNoticiaResumen=function(e){r.setState({noticia:Object(b.a)(Object(b.a)({},r.state.noticia),{},{Resumen:e})})},r.onChangeNoticiaContenido=function(e){r.setState({noticia:Object(b.a)(Object(b.a)({},r.state.noticia),{},{Contenido:e})})},r.onChangeNoticiaEstado=function(e){r.setState({noticia:Object(b.a)(Object(b.a)({},r.state.noticia),{},{EstadoId:e})})},r.onChangeNoticiasPortada=function(e){r.setState({noticia:Object(b.a)(Object(b.a)({},r.state.noticia),{},{Portada:e})})},r.obtenerImagenSubida=function(e){var a=e.target.files[0],t=new FileReader;t.addEventListener("load",(function(){r.onChangeNoticiasPortada(t.result)}),!1),a&&t.readAsDataURL(a)},r.validarNoticia=function(){return r.state.noticia.Titular?r.state.noticia.Resumen?null!=document.querySelector("input[type=file]").files[0]||(r.setState({portadaError:"Debe ingresar una imagen de portada para la noticia."}),!1):(r.setState({resumenError:"Debe ingresar un resumen de la noticia, de m\xe1ximo 1000 caracteres."}),!1):(r.setState({tituloError:"Debe ingresar el titulo de la noticia."}),!1)},r.crearNoticia=function(e){if(e.preventDefault(),r.validarNoticia()){var a=parseInt(e.target.elements.categoriaId.value),t=r.state.noticia;t.CategoriaId=a;var o=I();O.a.post("api/noticias",t,{headers:{Authorization:"Bearer ".concat(o)}}).then((function(){r.setState({noticia:{Titular:"",Autor:"",Resumen:"",CategoriaId:0,Contenido:"",FechaCreacion:new Date,FechaPublicacion:new Date,Portada:null,EstadoId:2}}),document.getElementById("portada").value=""})).catch((function(e){400===e.response.status?alert("Los datos ingresados no son validos."):alert("Error inesperado.")})).finally((function(){return n.a.createElement(g.a,{to:"/inicio"})}))}},r.state={categorias:null,noticia:{Titular:"",Autor:"",Resumen:"",CategoriaId:0,Contenido:"",FechaCreacion:new Date,FechaPublicacion:new Date,Portada:null,EstadoId:2},tituloError:"",resumenError:"",portadaError:""},r}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;O.a.get("api/categorias").then((function(a){e.setState({categorias:a.data})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.categorias,r=a.tituloError,o=a.resumenError,l=a.portadaError;return n.a.createElement(v.a,null,n.a.createElement(h.a,null,n.a.createElement(C.a,{xl:9,lg:9,md:8,sm:12,xs:12},n.a.createElement("h2",{className:"sectionTitle"},"Nueva noticia"),n.a.createElement("form",{id:"formNoticias",method:"post",encType:"multipart/form-data",onSubmit:this.crearNoticia},n.a.createElement(N.a,null,n.a.createElement(S.a.Label,{className:"label"},"Tit\xfalo"),n.a.createElement(S.a.Control,{type:"text",onChange:function(a){return e.onChangeNoticiaTitular(a.target.value)},onInput:function(){e.setState({tituloError:""})},value:this.state.noticia.Titular,className:r?"form-control is-invalid":"form-control"}),r?n.a.createElement("div",{className:"text-danger"},r):null),n.a.createElement(N.a,null,n.a.createElement(S.a.Label,{className:"label"},"Imagen de portada"),n.a.createElement(S.a.File,{id:"portada",name:"portada",accept:"image/*",onChange:function(a){return e.obtenerImagenSubida(a)},onInput:function(){e.setState({portadaError:""})}})),n.a.createElement(N.a,null,l?n.a.createElement("div",{className:"text-danger"},l):null),n.a.createElement(N.a,null,n.a.createElement(S.a.Label,{className:"label"},"Resumen"),n.a.createElement(S.a.Control,{as:"textarea",rows:"3",onChange:function(a){return e.onChangeNoticiaResumen(a.target.value)},onInput:function(){e.setState({resumenError:""})},value:this.state.noticia.Resumen,className:o?"form-control is-invalid":"form-control"}),o?n.a.createElement("div",{className:"text-danger"},o):null),n.a.createElement(S.a.Group,{controlId:"categoriaId"},n.a.createElement(S.a.Label,{className:"label"},"Categor\xeda"),n.a.createElement(S.a.Control,{as:"select"},null==t?null:t.map((function(e,a){return n.a.createElement("option",{key:a,value:e.CategoriaId},e.NombreCategoria)})))),n.a.createElement(N.a,null,n.a.createElement(S.a.Label,{className:"label"},"Contenido"),n.a.createElement(p.a,{className:"textEditor",id:"textEditor",ref:function(a){return e.quill=a},value:this.state.noticia.Contenido,onChange:function(a){return e.onChangeNoticiaContenido(a)},theme:"snow",modules:this.modules,formats:this.formats})),n.a.createElement(N.a,null,n.a.createElement(y.a,{type:"submit",id:"btnSubmitForm",form:"formNoticias"},"Enviar para revisi\xf3n"))))))}}]),t}(r.Component),w=t(47),U=t(264),P=t(265);t(239);function L(e){var a=e.onClose,t=e.onAccept,r=e.errorNombreCategoria,o=e.onNombreCategoriaChanged,l=e.nombreCategoria,i=""!==r;return n.a.createElement("div",{className:"modal fade show",role:"dialog",style:{display:"block"}},n.a.createElement("div",{className:"modal-dialog"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title"},"Categor\xedas"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){a()}},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{id:"formCategorias",method:"post",onSubmit:function(e){e.preventDefault();var a=e.target.elements.nombreCategoria.value;return t({NombreCategoria:a}),!1}},n.a.createElement(S.a.Group,{controlId:"nombreCategoria"},n.a.createElement(S.a.Label,{style:{fontWeight:"bold"}},"Nombre categor\xeda"),n.a.createElement(S.a.Control,{type:"text",name:"nombreCategoria",className:i?"form-control is-invalid":"form-control",onChange:o,value:l}),i?n.a.createElement("div",{className:"invalid-feedback"},r):null))),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:a},"Cerrar"),n.a.createElement("button",{type:"submit",className:"btn btn-primary",form:"formCategorias"},"Guardar")))))}function A(e){var a=e.onClose,t=e.nombreCategoria,r=e.categoriaId,o=e.onAccept;return n.a.createElement("div",{className:"modal fade show",role:"dialog",style:{display:"block"}},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title text-danger"},"Advertencia"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:a},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("p",{style:{fontWeight:"bold"}},"\xbfEst\xe1 seguro de eliminar esta categor\xeda?"),n.a.createElement("p",null,t)),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){o(r)}},"Confirmar"),n.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:a},"Cancelar")))))}var x=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={cargando:!0,data:null,agregarCategoria:!1,editarCategoria:!1,eliminarCategoria:!1,errorNombreCategoria:"",categoriaSeleccionada:null},e.cerrarCategoriasModal=function(){e.setState({agregarCategoria:!1,editarCategoria:!1,eliminarCategoria:!1})},e.crearCategoria=function(a){if(a.NombreCategoria){var t=I(),r="Bearer ".concat(t);O.a.post("api/categorias",a,{headers:{Authorization:r}}).then((function(a){e.setState({data:[].concat(Object(w.a)(e.state.data),[a.data])})})).catch((function(e){400===e.response.status?alert("Los datos ingresados no son validos."):alert("Error inesperado.")})).finally((function(){e.setState({agregarCategoria:!1})}))}else e.setState({errorNombreCategoria:"Debe ingresar el nombre de la categor\xeda."})},e.editarCategoria=function(){var a=I(),t="Bearer ".concat(a),r=e.state.categoriaSeleccionada;r.NombreCategoria?O.a.put("api/categorias/".concat(r.CategoriaId),r,{headers:{Authorization:t}}).then((function(a){e.setState({data:e.state.data.map((function(e){return e.CategoriaId===r.CategoriaId?r:e}))})})).catch((function(e){400===e.response.status?alert("Los datos ingresados no son validos."):alert("Error inesperado.")})).finally((function(){e.setState({editarCategoria:!1})})):e.setState({errorNombreCategoria:"Debe ingresar el nombre de la categor\xeda."})},e.eliminarCategoria=function(){var a=e.state.categoriaSeleccionada;a.Eliminado=!0;var t=I(),r="Bearer ".concat(t);O.a.put("api/categorias/".concat(a.CategoriaId),a,{headers:{Authorization:r}}).then((function(){e.setState({data:e.state.data.filter((function(e){return e.CategoriaId!==a.CategoriaId})),eliminarCategoria:!1})}))},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;O.a.get("api/categorias").then((function(a){e.setState({data:a.data,cargando:!1})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.cargando,r=a.data,o=a.agregarCategoria,l=a.errorNombreCategoria,i=a.editarCategoria,c=a.categoriaSeleccionada,s=a.eliminarCategoria;return n.a.createElement(v.a,null,n.a.createElement("div",{className:"d-flex align-items-center header"},n.a.createElement("div",{className:"flex-grow-1"},n.a.createElement("h3",null,"Categorias de las noticias")),n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.setState({agregarCategoria:!0})}},"Agregar categor\xeda"))),o?n.a.createElement(L,{onClose:this.cerrarCategoriasModal,onAccept:this.crearCategoria,errorNombreCategoria:l,onNombreCategoriaChanged:function(){e.setState({errorNombreCategoria:""})}}):null,i?n.a.createElement(L,{nombreCategoria:c.NombreCategoria,onClose:this.cerrarCategoriasModal,onAccept:this.editarCategoria,errorNombreCategoria:l,onNombreCategoriaChanged:function(a){e.setState({errorNombreCategoria:"",categoriaSeleccionada:Object(b.a)(Object(b.a)({},c),{},{NombreCategoria:a.target.value})})}}):null,s?n.a.createElement(A,{onClose:this.cerrarCategoriasModal,nombreCategoria:c.NombreCategoria,categoriaId:c.CategoriaId,onAccept:this.eliminarCategoria}):null,n.a.createElement(U.a,{className:"table table-hover"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Nombre de la categor\xeda"),n.a.createElement("th",{style:{width:"154px"}}))),n.a.createElement("tbody",null,t?n.a.createElement("tr",null,n.a.createElement("td",null,"Cargando...")):r.map((function(a,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,a.NombreCategoria),n.a.createElement("td",null,n.a.createElement(P.a,null,n.a.createElement(y.a,{className:"btn btn-secondary",onClick:function(){e.setState({categoriaSeleccionada:a,editarCategoria:!0})}},"Editar"),n.a.createElement(y.a,{className:"btn btn-danger",onClick:function(){e.setState({categoriaSeleccionada:a,eliminarCategoria:!0})}},"Eliminar"))))})))))}}]),t}(r.Component),D=(t(240),function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={usuario:{Name:"",LastName:"",Email:"",Password:"",ConfirmPassword:"",Rol:"Est\xe1ndar"},nombreUsuarioError:"",apellidosError:"",emailError:"",claveError:"",confirmarClaveError:""},e.onChangeUsuarioNombre=function(a){e.setState({usuario:Object(b.a)(Object(b.a)({},e.state.usuario),{},{Name:a})})},e.onChangeUsuarioApellidos=function(a){e.setState({usuario:Object(b.a)(Object(b.a)({},e.state.usuario),{},{LastName:a})})},e.onChangeUsuarioEmail=function(a){e.setState({usuario:Object(b.a)(Object(b.a)({},e.state.usuario),{},{Email:a})})},e.onChangeUsuarioClave=function(a){e.setState({usuario:Object(b.a)(Object(b.a)({},e.state.usuario),{},{Password:a})})},e.onChangeConfirmarClave=function(a){e.setState({usuario:Object(b.a)(Object(b.a)({},e.state.usuario),{},{ConfirmPassword:a})})},e.validarCredenciales=function(){return e.state.usuario.Name?e.state.usuario.LastName?e.state.usuario.Email?e.state.usuario.Email.includes("@")&&e.state.usuario.Email.includes(".")?e.state.usuario.Password?e.state.usuario.ConfirmPassword?e.state.usuario.Password===e.state.usuario.ConfirmPassword||(e.setState({confirmarClaveError:"Las contrase\xf1as no coinciden."}),!1):(e.setState({confirmarClaveError:"Debe confirmar la contrase\xf1a."}),!1):(e.setState({claveError:"Debe ingresar una contrase\xf1a."}),!1):(e.setState({emailError:"Ingrese un correo electr\xf3nico v\xe1lido."}),!1):(e.setState({emailError:"Debe ingresar su correo electr\xf3nico."}),!1):(e.setState({apellidosError:"Debe ingresar sus apellidos."}),!1):(e.setState({nombreUsuarioError:"Debe ingresar su nombre."}),!1)},e.crearUsuario=function(a){a.preventDefault(),e.validarCredenciales()&&O.a.post("api/account/register",e.state.usuario).then((function(){e.setState({usuario:{Name:"",LastName:"",Email:"",Password:"",ConfirmPassword:"",Rol:"Est\xe1ndar"}})})).catch((function(e){400===e.response.status?alert("Los datos ingresados no son validos."):alert("Error inesperado.")}))},e}return Object(c.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.nombreUsuarioError,r=a.apellidosError,o=a.emailError,l=a.claveError,i=a.confirmarClaveError;return n.a.createElement(v.a,null,n.a.createElement("h3",{className:"title"},"Formulario de registro"),n.a.createElement("form",{id:"formRegistroUsuarios",method:"post",onSubmit:this.crearUsuario},n.a.createElement(S.a.Row,null,n.a.createElement(S.a.Group,{as:C.a,controlId:"nombreUsuario"},n.a.createElement(S.a.Label,{className:"label"},"Nombre"),n.a.createElement(S.a.Control,{type:"text",placeholder:"Nombre",onChange:function(a){return e.onChangeUsuarioNombre(a.target.value)},onInput:function(){e.setState({nombreUsuarioError:""})},value:this.state.usuario.Name,className:t?"form-control is-invalid":"form-control"}),t?n.a.createElement("div",{className:"text-danger"},t):null),n.a.createElement(S.a.Group,{as:C.a,controlId:"apellidos"},n.a.createElement(S.a.Label,{className:"label"},"Apellidos"),n.a.createElement(S.a.Control,{type:"text",placeholder:"Apellidos",onChange:function(a){return e.onChangeUsuarioApellidos(a.target.value)},onInput:function(){e.setState({apellidosError:""})},value:this.state.usuario.LastName,className:r?"form-control is-invalid":"form-control"}),r?n.a.createElement("div",{className:"text-danger"},r):null)),n.a.createElement(S.a.Group,{controlId:"email"},n.a.createElement(S.a.Label,{className:"label"},"Email"),n.a.createElement(S.a.Control,{type:"email",placeholder:"Correo electr\xf3nico",onChange:function(a){return e.onChangeUsuarioEmail(a.target.value)},onInput:function(){e.setState({emailError:""})},value:this.state.usuario.Email,className:o?"form-control is-invalid":"form-control"}),o?n.a.createElement("div",{className:"text-danger"},o):null),n.a.createElement(S.a.Row,null,n.a.createElement(S.a.Group,{as:C.a,controlId:"clave"},n.a.createElement(S.a.Label,{className:"label"},"Contrase\xf1a"),n.a.createElement(S.a.Control,{type:"password",placeholder:"Contrase\xf1a",onChange:function(a){return e.onChangeUsuarioClave(a.target.value)},onInput:function(){e.setState({claveError:""})},value:this.state.usuario.Password,className:l?"form-control is-invalid":"form-control"}),l?n.a.createElement("div",{className:"text-danger"},l):null),n.a.createElement(S.a.Group,{as:C.a,controlId:"confirmarClave"},n.a.createElement(S.a.Label,{className:"label"},"Confirmar contrase\xf1a"),n.a.createElement(S.a.Control,{type:"password",placeholder:"Confirmar contrase\xf1a",onChange:function(a){return e.onChangeConfirmarClave(a.target.value)},onInput:function(){e.setState({confirmarClaveError:""})},value:this.state.usuario.ConfirmPassword,className:i?"form-control is-invalid":"form-control"}),i?n.a.createElement("div",{className:"text-danger"},i):null))),n.a.createElement("button",{type:"submit",className:"btn btn-primary",form:"formRegistroUsuarios"},"Registrarse"))}}]),t}(r.Component));function R(e){var a=e.onClose,t=e.onAccept,r=e.roles,o=e.errorUsuario,l=e.onNombreUsuarioChanged,i=e.onApellidosChanged,c=e.onEmailChanged,s=e.onRolChanged,u=e.onClaveChanged,m=e.onConfirmarClaveChanged;return n.a.createElement("div",{className:"modal",role:"dialog",style:{display:"block"}},n.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title"},"Usuarios"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:a},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{id:"formUsuarios",method:"post",onSubmit:function(e){e.preventDefault();var a=e.target.elements.nombreUsuario.value,r=e.target.elements.apellidos.value,n=e.target.elements.email.value,o=e.target.elements.rolId.value,l=e.target.elements.clave.value,i=e.target.elements.confirmarClave.value;return t({Name:a,LastName:r,Rol:o,Email:n,Password:l,ConfirmPassword:i}),!1}},n.a.createElement(S.a.Row,null,n.a.createElement(S.a.Group,{as:C.a,controlId:"nombreUsuario"},n.a.createElement(S.a.Label,null,"Nombre"),n.a.createElement(S.a.Control,{type:"text",placeholder:"Nombre",className:o.nombreUsuarioError?"form-control is-invalid":"form-control",onChange:l}),o.nombreUsuarioError?n.a.createElement("div",{className:"invalid-feedback"},o.nombreUsuarioError):null),n.a.createElement(S.a.Group,{as:C.a,controlId:"apellidos"},n.a.createElement(S.a.Label,null,"Apellidos"),n.a.createElement(S.a.Control,{type:"text",placeholder:"Apellidos",className:o.apellidosError?"form-control is-invalid":"form-control",onChange:i}),o.apellidosError?n.a.createElement("div",{className:"invalid-feedback"},o.apellidosError):null)),n.a.createElement(S.a.Row,null,n.a.createElement(S.a.Group,{as:C.a,controlId:"email"},n.a.createElement(S.a.Label,null,"Email"),n.a.createElement(S.a.Control,{type:"email",placeholder:"Correo electr\xf3nico",className:o.emailError?"form-control is-invalid":"form-control",onChange:c}),o.emailError?n.a.createElement("div",{className:"invalid-feedback"},o.emailError):null),n.a.createElement(S.a.Group,{as:C.a,controlId:"rolId"},n.a.createElement(S.a.Label,null,"Rol"),n.a.createElement(S.a.Control,{as:"select",onChange:s},r.map((function(e,a){return n.a.createElement("option",{key:a,value:e.Name},e.Name)}))))),n.a.createElement(S.a.Row,null,n.a.createElement(S.a.Group,{as:C.a,controlId:"clave"},n.a.createElement(S.a.Label,null,"Contrase\xf1a"),n.a.createElement(S.a.Control,{type:"password",placeholder:"Contrase\xf1a",className:o.claveError?"form-control is-invalid":"form-control",onChange:u}),o.claveError?n.a.createElement("div",{className:"invalid-feedback"},o.claveError):null),n.a.createElement(S.a.Group,{as:C.a,controlId:"confirmarClave"},n.a.createElement(S.a.Label,null,"Confirmar contrase\xf1a"),n.a.createElement(S.a.Control,{type:"password",placeholder:"Confirmar contrase\xf1a",className:o.confirmarClaveError?"form-control is-invalid":"form-control",onChange:m}),o.confirmarClaveError?n.a.createElement("div",{className:"invalid-feedback"},o.confirmarClaveError):null),n.a.createElement("div",{className:"form-control"},n.a.createElement("p",null,"Su contrase\xf1a debe contener al menos una letra may\xfascula, min\xfascula y un caracter n\xfamerico."))))),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"submit",className:"btn btn-primary",form:"formUsuarios"},"Guardar"),n.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:a},"Cerrar")))))}function T(e){var a=e.onClose,t=e.usuarioSeleccionado,r=e.onAccept;return n.a.createElement("div",{className:"modal fade show",role:"dialog",style:{display:"block"}},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title text-danger"},"Advertencia"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:a},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("p",{style:{fontWeight:"bold"}},"\xbfEst\xe1 seguro de eliminar este usuario?"),n.a.createElement("p",null,t.Email)),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){r(t.UsuarioId)}},"Confirmar"),n.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:a},"Cancelar")))))}var z=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={cargando:!0,data:[],roles:[],rolesUsuarios:[],agregarUsuario:!1,errorUsuario:{nombreUsuarioError:"",apellidosError:"",emailError:"",claveError:"",confirmarClaveError:""},usuarioSeleccionado:null,eliminarUsuario:!1},e.cerrarUsuariosModal=function(){e.setState({agregarUsuario:!1,eliminarUsuario:!1})},e.validarCredenciales=function(a){return a.Name?a.LastName?a.Email?a.Email.includes("@")&&a.Email.includes(".")?a.Password?a.ConfirmPassword?a.Password===a.ConfirmPassword||(e.setState({errorUsuario:Object(b.a)(Object(b.a)({},e.state.errorUsuario),{},{confirmarClaveError:"Las contrase\xf1as no coinciden."})}),!1):(e.setState({errorUsuario:Object(b.a)(Object(b.a)({},e.state.errorUsuario),{},{confirmarClaveError:"Debe confirmar la contrase\xf1a."})}),!1):(e.setState({errorUsuario:Object(b.a)(Object(b.a)({},e.state.errorUsuario),{},{claveError:"Debe ingresar una contrase\xf1a."})}),!1):(e.setState({errorUsuario:Object(b.a)(Object(b.a)({},e.state.errorUsuario),{},{emailError:"Ingrese un correo electr\xf3nico v\xe1lido."})}),!1):(e.setState({errorUsuario:Object(b.a)(Object(b.a)({},e.state.errorUsuario),{},{emailError:"Debe ingresar el correo electr\xf3nico."})}),!1):(e.setState({errorUsuario:Object(b.a)(Object(b.a)({},e.state.errorUsuario),{},{apellidosError:"Debe ingresar al menos un apellido."})}),!1):(e.setState({errorUsuario:Object(b.a)(Object(b.a)({},e.state.errorUsuario),{},{nombreUsuarioError:"Debe ingresar un nombre."})}),!1)},e.crearUsuario=function(a){e.validarCredenciales(a)&&O.a.post("api/account/register",a).then((function(a){e.forceUpdate(),e.setState({data:[].concat(Object(w.a)(e.state.data),[a.data])})})).catch((function(e){alert("Error inesperado.")})).finally((function(){e.setState({agregarUsuario:!1})}))},e.eliminarUsuario=function(){var a=I(),t="Bearer ".concat(a),r=e.state.usuarioSeleccionado;r.Eliminado=!0,O.a.put("api/aspnetusers/".concat(r.Id),r,{headers:{Authorization:t}}).then((function(){e.setState({data:e.state.data.filter((function(e){return e.Id!==r.Id})),eliminarUsuario:!1})}))},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=I(),t="Bearer ".concat(a);O.a.get("api/aspnetusers",{headers:{Authorization:t}}).then((function(a){e.setState({data:a.data})})),O.a.get("api/AspNetRoles",{headers:{Authorization:t}}).then((function(a){e.setState({roles:a.data})})).finally((function(){e.setState({cargando:!1})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.data,r=a.cargando,o=a.agregarUsuario,l=a.roles,i=a.errorUsuario,c=a.usuarioSeleccionado,s=a.eliminarUsuario;return n.a.createElement(v.a,null,n.a.createElement("div",{className:"d-flex align-items-center header"},n.a.createElement("div",{className:"flex-grow-1"},n.a.createElement("h3",null,"Administrar usuarios")),n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.setState({agregarUsuario:!0})}},"Agregar usuario"))),o?n.a.createElement(R,{onClose:this.cerrarUsuariosModal,roles:l,onAccept:this.crearUsuario,errorUsuario:i,onNombreUsuarioChanged:function(){e.setState({errorUsuario:Object(b.a)(Object(b.a)({},e.state.errorUsuario),{},{nombreUsuarioError:""})})},onApellidosChanged:function(){e.setState({errorUsuario:Object(b.a)(Object(b.a)({},e.state.errorUsuario),{},{apellidosError:""})})},onEmailChanged:function(){e.setState({errorUsuario:Object(b.a)(Object(b.a)({},e.state.errorUsuario),{},{emailError:""})})},onClaveChanged:function(){e.setState({errorUsuario:Object(b.a)(Object(b.a)({},e.state.errorUsuario),{},{claveError:""})})},onConfirmarClaveChanged:function(){e.setState({errorUsuario:Object(b.a)(Object(b.a)({},e.state.errorUsuario),{},{confirmarClaveError:""})})}}):null,s?n.a.createElement(T,{onClose:this.cerrarUsuariosModal,onAccept:this.eliminarUsuario,usuarioSeleccionado:c}):null,n.a.createElement(U.a,{className:"table table-hover"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Nombre de usuario"),n.a.createElement("th",null,"Email"),n.a.createElement("th",{style:{width:"154px"}}))),n.a.createElement("tbody",null,r?n.a.createElement("tr",null,n.a.createElement("td",null,"Cargando...")):t.map((function(a,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,a.Name+" "+a.LastName),n.a.createElement("td",null,a.Email),n.a.createElement("td",null,n.a.createElement(P.a,null,n.a.createElement(y.a,{className:"btn btn-danger",onClick:function(){e.setState({usuarioSeleccionado:a,eliminarUsuario:!0})}},"Eliminar"))))})))))}}]),t}(r.Component),B=t(269);t(241);function G(e){var a=e.noticia;return n.a.createElement(B.a,{style:{width:"18rem"}},n.a.createElement(E.b,{to:{pathname:"/noticia/"+a.NoticiaId,state:{noticia:a}}},n.a.createElement(B.a.Img,{variant:"top",src:a.Portada})),n.a.createElement(B.a.Body,null,n.a.createElement(B.a.Title,null,a.Titular),n.a.createElement(B.a.Text,null,a.Resumen),n.a.createElement(E.b,{to:{pathname:"/noticia/"+a.NoticiaId,state:{noticia:a}}},n.a.createElement(y.a,{variant:"primary"},"Leer m\xe1s"))))}t(242);function M(e){var a=e.categorias,t=e.categoriaSeleccionada,r=e.currentCategoria;return n.a.createElement(d.a,{variant:"tabs",activeKey:r},null!==a?a.map((function(e,a){return n.a.createElement(d.a.Item,{key:a},n.a.createElement(d.a.Link,{eventKey:e.CategoriaId,onClick:function(){t(e.CategoriaId)}},e.NombreCategoria))})):null)}var q=t(270);function F(e){for(var a=e.activePage,t=e.onSelectedPage,r=a,o=[],l=function(e){o.push(n.a.createElement(q.a.Item,{key:e,active:e===r,onClick:function(){return t(e)}},e))},i=0;i<=20;i++)l(i);return n.a.createElement(q.a,null,o)}var V=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={noticias:[],categorias:[],cargando:!0,currentCategoria:0,busqueda:"",activePage:0},e.onCategoriaSeleccionada=function(a){e.setState({cargando:!0,currentCategoria:a}),O.a.get("api/noticias/getallnoticias").then((function(t){e.setState({noticias:t.data.filter((function(e){return e.CategoriaId===a}))})})).finally((function(){e.setState({cargando:!1})}))},e.onBuscarNoticia=function(a){a.preventDefault(),e.setState({cargando:!0,currentCategoria:0}),O.a.get("api/noticias/getallnoticias").then((function(a){e.setState({noticias:a.data.filter((function(a){return a.Titular.toLowerCase().includes(e.state.busqueda)}))})})).finally((function(){e.setState({cargando:!1})}))},e.goToPage=function(a){e.setState({activePage:a});O.a.get("api/noticias/?page=".concat(a)).then((function(a){null!==a.data&&e.setState({noticias:a.data})}))},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;O.a.get("api/noticias").then((function(a){e.setState({noticias:a.data})})).finally((function(){e.setState({cargando:!1})})),O.a.get("api/categorias").then((function(a){e.setState({categorias:a.data})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.noticias,r=a.categorias,o=a.currentCategoria,l=a.activePage;return n.a.createElement(v.a,{className:"container"},n.a.createElement("div",{className:"menuCategorias"},n.a.createElement(M,{categorias:r,categoriaSeleccionada:this.onCategoriaSeleccionada,currentCategoria:o})),n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.onBuscarNoticia,className:"formBuscar"},n.a.createElement("input",{value:this.state.busqueda,className:"form-control txtBuscar",onChange:function(a){e.setState({busqueda:a.target.value})}}),n.a.createElement("button",{type:"submit",className:"btn btn-primary btnBuscar"},n.a.createElement("span",null,"Buscar")))),null==t?"Cargando...":t.map((function(e,a){return n.a.createElement("div",{className:"noticiaCard",key:a},n.a.createElement(G,{noticia:e}))})),n.a.createElement("div",{className:"pagination"},n.a.createElement(F,{activePage:l,onSelectedPage:this.goToPage})))}}]),t}(r.Component),W=t(105),_=t.n(W),J=(t(254),function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(e){var r;return Object(i.a)(this,t),(r=a.call(this,e)).state={noticia:{},cargando:!1},r}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;"undefined"!==typeof this.props.location.state&&this.props.location.state.hasOwnProperty("noticia")&&this.setState({noticia:this.props.location.state.noticia},(function(){e.setState({cargando:!0})}))}},{key:"render",value:function(){var e=this.state.noticia;return this.state.cargando?n.a.createElement(v.a,null,n.a.createElement("div",{className:"noticia"},n.a.createElement("div",{className:"noticiaInfo"},n.a.createElement("h1",null,e.Titular),n.a.createElement("div",{className:"date"},e.FechaCreacion)),n.a.createElement("div",{className:"imageContainer"},n.a.createElement("img",{className:"image",src:e.Portada,alt:e.Titular})),n.a.createElement("div",{className:"noticiaContent"},_()(this.state.noticia.Contenido)))):n.a.createElement("div",null,"Cargando...")}}]),t}(r.Component)),K=Object(g.g)(J),H=t(106),Q=t.n(H),X=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(e){var r;Object(i.a)(this,t),(r=a.call(this,e)).onChangeUserName=function(e){r.setState({user:Object(b.a)(Object(b.a)({},r.state.user),{},{username:e})})},r.onChangeUserPassword=function(e){r.setState({user:Object(b.a)(Object(b.a)({},r.state.user),{},{password:e})})},r.validateUser=function(){return r.state.user.username?!!r.state.user.password||(r.setState({passwordError:"Debe ingresar su contrase\xf1a."}),!1):(r.setState({usernameError:"Debe ingresar su correo electr\xf3nico."}),!1)},r.login=function(e){if(e.preventDefault(),r.validateUser()){var a={method:"post",url:"token",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Q.a.stringify({grant_type:"password",username:r.state.user.username,password:r.state.user.password},{encode:!1})};O()(a).then((function(e){localStorage.setItem("jwt",e.data.access_token),r.setState({loggedIn:!0})})).catch((function(e){400===e.response.status?alert("Los datos ingresados no son validos."):alert(e.response.message)})).finally((function(){r.setState({user:{username:"",password:"",grant_type:"password"}})}))}};return r.state={user:{username:"",password:"",grant_type:"password"},loggedIn:!1,usernameError:"",passwordError:""},r}return Object(c.a)(t,[{key:"render",value:function(){var e=this;if(this.state.loggedIn)return n.a.createElement(g.a,{to:"/inicio"});var a=this.state,t=a.usernameError,r=a.passwordError;return n.a.createElement(v.a,null,n.a.createElement(S.a,{style:{width:"500px"},onSubmit:this.login},n.a.createElement(S.a.Group,{controlId:"email"},n.a.createElement(S.a.Label,null,"Email"),n.a.createElement(S.a.Control,{type:"email",placeholder:"Ingrese su correo electr\xf3nico",onChange:function(a){return e.onChangeUserName(a.target.value)},onInput:function(){e.setState({usernameError:""})},value:this.state.user.username,className:t?"form-control is-invalid":"form-control"}),t?n.a.createElement("div",{className:"text-danger"},t):null),n.a.createElement(S.a.Group,{controlId:"password"},n.a.createElement(S.a.Label,null,"Contrase\xf1a"),n.a.createElement(S.a.Control,{type:"password",placeholder:"Ingrese su contrase\xf1a",onChange:function(a){return e.onChangeUserPassword(a.target.value)},onInput:function(){e.setState({passwordError:""})},value:this.state.user.password,className:r?"form-control is-invalid":"form-control"}),r?n.a.createElement("div",{className:"text-danger"},r):null),n.a.createElement(S.a.Group,null,n.a.createElement("p",null,"\xbfNo tiene una cuenta? Haga click ",n.a.createElement(E.b,{to:"/registrarse"},"Aqu\xed")," para registrarse.")),n.a.createElement(y.a,{variant:"primary",type:"submit"},"Iniciar sesi\xf3n")))}}]),t}(r.Component),Y=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(e){var r;return Object(i.a)(this,t),r=a.call(this,e),localStorage.removeItem("jwt"),r}return Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(g.a,{to:"/login"})}}]),t}(r.Component),Z=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={paginacion:{PaginacionId:0,PageSize:0}},e.editarPaginacion=function(a){a.preventDefault();var t=e.state.paginacion,r=I(),n="Bearer ".concat(r);O.a.put("api/Paginacions/".concat(t.PaginacionId),t,{headers:{Authorization:n}})},e.onChangePageSize=function(a){e.setState({paginacion:Object(b.a)(Object(b.a)({},e.state.paginacion),{},{PageSize:a})})},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=I(),t="Bearer ".concat(a);O.a.get("api/paginacions",{headers:{Authorization:t}}).then((function(a){e.setState({paginacion:Object(b.a)(Object(b.a)({},e.state.paginacion),{},{PaginacionId:a.data[0].PaginacionId,PageSize:a.data[0].PageSize})})}))}},{key:"render",value:function(){var e=this,a=this.state.paginacion;return n.a.createElement(v.a,null,n.a.createElement(S.a,{style:{width:"300px"},onSubmit:this.editarPaginacion},n.a.createElement(S.a.Group,{controlId:"pageSize"},n.a.createElement(S.a.Label,null,"N\xfamero de articulos por p\xe1gina"),n.a.createElement(S.a.Control,{required:!0,type:"number",min:"0",max:"50",onChange:function(a){return e.onChangePageSize(a.target.value)},value:a.PageSize})),n.a.createElement(y.a,{variant:"primary",type:"submit"},"Guardar")))}}]),t}(r.Component);t(257);function $(e){var a=e.tituloError,t=e.onClose,r=e.noticiaSeleccionada,o=e.resumenError,l=e.onTitularChanged,i=e.onResumenChanged,c=e.onPortadaChanged,s=e.onCategoriaChanged,u=e.categorias,m=e.onAccept;return n.a.createElement("div",{class:"modal",tabindex:"-1",style:{display:"block"}},n.a.createElement("div",{class:"modal-dialog modal-lg"},n.a.createElement("div",{class:"modal-content"},n.a.createElement("div",{class:"modal-header"},n.a.createElement("h5",{class:"modal-title"},"Editor de noticias"),n.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:t},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{class:"modal-body"},n.a.createElement("form",{id:"formEditNoticias",onSubmit:function(e){e.preventDefault();var a=document.getElementsByClassName("textEditor")[0].innerText;m(a)}},n.a.createElement(N.a,null,n.a.createElement(S.a.Label,{className:"label"},"Tit\xfalo"),n.a.createElement(S.a.Control,{type:"text",onChange:l,value:r.Titular,className:a?"form-control is-invalid":"form-control"}),a?n.a.createElement("div",{className:"text-danger"},a):null),n.a.createElement(N.a,null,n.a.createElement(S.a.Label,{className:"label"},"Imagen de portada"),n.a.createElement(S.a.File,{id:"portada",name:"portada",accept:"image/*",onChange:c})),n.a.createElement(N.a,null,n.a.createElement(S.a.Label,{className:"label"},"Resumen"),n.a.createElement(S.a.Control,{as:"textarea",rows:"3",onChange:i,onInput:i,value:r.Resumen,className:o?"form-control is-invalid":"form-control"}),o?n.a.createElement("div",{className:"text-danger"},o):null),n.a.createElement(S.a.Group,{controlId:"categoriaId"},n.a.createElement(S.a.Label,{className:"label"},"Categor\xeda"),n.a.createElement(S.a.Control,{defaultValue:r.CategoriaId,as:"select",onChange:s},null==u?null:u.map((function(e,a){return n.a.createElement("option",{key:a,value:e.CategoriaId},e.NombreCategoria)})))),n.a.createElement(N.a,null,n.a.createElement(S.a.Label,{className:"label"},"Contenido"),n.a.createElement(p.a,{className:"textEditor",id:"textEditor",value:r.Contenido,theme:"snow",modules:{toolbar:{container:[[{font:[]},{size:["small",!1,"large","huge"]},{header:[1,2,3]},{align:[]}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","clean"]]},clipboard:{matchVisual:!1}},formats:["header","font","size","bold","italic","underline","strike","blockquote","color","background","list","bullet","indent","align","link","image","video","code-block"]})))),n.a.createElement("div",{class:"modal-footer"},n.a.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:t},"Close"),n.a.createElement("button",{type:"submit",class:"btn btn-primary",form:"formEditNoticias"},"Save changes")))))}function ee(e){var a=e.onClose,t=e.noticiaSeleccionada,r=e.onAccept;return n.a.createElement("div",{className:"modal fade show",role:"dialog",style:{display:"block"}},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title text-danger"},"Advertencia"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:a},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("p",{style:{fontWeight:"bold"}},"\xbfEst\xe1 seguro de eliminar esta noticia?"),n.a.createElement("p",null,t.Titular)),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){r(t.NoticiaId)}},"Confirmar"),n.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:a},"Cancelar")))))}var ae=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={data:[],categorias:null,cargando:!0,tituloError:"",resumenError:"",noticiaSeleccionada:"",editarNoticia:!1,eliminarNoticia:!1},e.cerrarNoticiasModal=function(){e.setState({editarNoticia:!1,eliminarNoticia:!1})},e.validarNoticia=function(a){return a.Titular?!!a.Resumen||(e.setState({resumenError:"Debe ingresar un resumen de la noticia, de m\xe1ximo 1000 caracteres."}),!1):(e.setState({tituloError:"Debe ingresar el titulo de la noticia."}),!1)},e.editarNoticia=function(a){var t=e.state.noticiaSeleccionada;if(e.validarNoticia(t)){var r=I(),n="Bearer ".concat(r);t.Contenido=a,O.a.put("api/noticias/".concat(t.NoticiaId),t,{headers:{Authorization:n}}).then((function(a){e.setState({data:e.state.data.map((function(e){return e.NoticiaId===t.CategoriaId?t:e}))})})).catch((function(e){400===e.response.status?alert("Los datos ingresados no son validos."):alert("Error inesperado.")})).finally((function(){e.setState({editarNoticia:!1})}))}},e.eliminarNoticia=function(){var a=e.state.noticiaSeleccionada;a.Eliminado=!0;var t=I(),r="Bearer ".concat(t);O.a.put("api/noticias/".concat(a.NoticiaId),a,{headers:{Authorization:r}}).then((function(){e.setState({data:e.state.data.filter((function(e){return e.NoticiaId!==a.NoticiaId}))})})).catch((function(e){alert(e.response.message)})).finally((function(){e.setState({eliminarNoticia:!1})}))},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=I(),t="Bearer ".concat(a);O.a.get("api/noticias/getnoticiasbyuser",{headers:{Authorization:t}}).then((function(a){e.setState({data:a.data})})).catch((function(e){console.log("Error inesperado.")})).finally((function(){e.setState({cargando:!1})})),O.a.get("api/categorias").then((function(a){e.setState({categorias:a.data})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.data,r=a.categorias,o=a.cargando,l=a.tituloError,i=a.resumenError,c=a.noticiaSeleccionada,s=a.editarNoticia,u=a.eliminarNoticia;return n.a.createElement(v.a,null,s?n.a.createElement($,{tituloError:l,resumenError:i,noticiaSeleccionada:c,onClose:this.cerrarNoticiasModal,onAccept:this.editarNoticia,categorias:r,onTitularChanged:function(a){e.setState({tituloError:"",noticiaSeleccionada:Object(b.a)(Object(b.a)({},c),{},{Titular:a.target.value})})},onPortadaChanged:function(a){var t=a.target.files[0],r=new FileReader;r.addEventListener("load",(function(){e.setState({noticiaSeleccionada:Object(b.a)(Object(b.a)({},c),{},{Portada:r.result})})}),!1),t&&r.readAsDataURL(t)},onResumenChanged:function(a){e.setState({resumenError:"",noticiaSeleccionada:Object(b.a)(Object(b.a)({},c),{},{Resumen:a.target.value})})},onCategoriaChanged:function(a){e.setState({noticiaSeleccionada:Object(b.a)(Object(b.a)({},c),{},{CategoriaId:a.target.value})})},onContenidoChanged:function(a){e.setState({noticiaSeleccionada:Object(b.a)(Object(b.a)({},c),{},{Contenido:a.target.value})})}}):null,u?n.a.createElement(ee,{onClose:this.cerrarNoticiasModal,noticiaSeleccionada:c,onAccept:this.eliminarNoticia}):null,n.a.createElement(U.a,{className:"table table-hover"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Titular"),n.a.createElement("th",null,"Resumen"),n.a.createElement("th",{style:{width:"154px"}}))),n.a.createElement("tbody",null,o?n.a.createElement("tr",null,n.a.createElement("td",null,"Cargando...")):t.map((function(a,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,a.Titular),n.a.createElement("td",null,a.Resumen),n.a.createElement("td",null,n.a.createElement(P.a,null,n.a.createElement(y.a,{className:"btn btn-secondary",onClick:function(){e.setState({noticiaSeleccionada:a,editarNoticia:!0})}},"Editar"),n.a.createElement(y.a,{className:"btn btn-danger",onClick:function(){e.setState({noticiaSeleccionada:a,eliminarNoticia:!0})}},"Eliminar"))))})))))}}]),t}(r.Component);function te(e){var a=e.noticiaSeleccionada,t=e.onClose,r=e.onAccept;return n.a.createElement("div",{className:"modal fade show",role:"dialog",style:{display:"block"}},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title"},"Publicar noticia"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:t},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{id:"formPublicar",onSubmit:function(e){e.preventDefault();var a=parseInt(e.target.elements.estadoId.value);r(a)}},n.a.createElement(S.a.Group,{controlId:"estadoId"},n.a.createElement(S.a.Label,null,"Seleccione una opci\xf3n"),n.a.createElement(S.a.Control,{defaultValue:a.EstadoId,as:"select"},n.a.createElement("option",{value:"1"},"Publicar"),n.a.createElement("option",{value:"2"},"No publicar"))))),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"submit",className:"btn btn-primary",form:"formPublicar"},"Confirmar"),n.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:t},"Cancelar")))))}var re=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={data:[],cargando:!0,noticiaSeleccionada:null,publicarNoticia:!1},e.cerrarPublicarModal=function(){e.setState({publicarNoticia:!1})},e.publicarNoticia=function(a){var t=e.state.noticiaSeleccionada;t.EstadoId=a,t.FechaPublicacion=new Date;var r=I(),n="Bearer ".concat(r);O.a.put("api/noticias/".concat(t.NoticiaId),t,{headers:{Authorization:n}}).then((function(){e.setState({data:e.state.data.map((function(e){return e.NoticiaId===t.NoticiaId?t:e}))})})).finally((function(){e.setState({publicarNoticia:!1})}))},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=I(),t="Bearer ".concat(a);O.a.get("api/noticias/getalldbnoticias",{headers:{Authorization:t}}).then((function(a){e.setState({data:a.data})})).finally((function(){e.setState({cargando:!1})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.data,r=a.cargando,o=a.noticiaSeleccionada,l=a.publicarNoticia;return n.a.createElement(v.a,null,l?n.a.createElement(te,{noticiaSeleccionada:o,onClose:this.cerrarPublicarModal,onAccept:this.publicarNoticia}):null,n.a.createElement(U.a,{className:"table table-hover"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Titular"),n.a.createElement("th",null,"Resumen"),n.a.createElement("th",{style:{width:"154px"}}))),n.a.createElement("tbody",null,r?n.a.createElement("tr",null,n.a.createElement("td",null,"Cargando...")):t.map((function(a,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,a.Titular),n.a.createElement("td",null,a.Resumen),n.a.createElement("td",null,n.a.createElement(P.a,null,n.a.createElement(y.a,{className:"btn btn-secondary",onClick:function(){e.setState({noticiaSeleccionada:a,publicarNoticia:!0})}},"Publicar"))))})))))}}]),t}(r.Component),ne=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(e){var r;Object(i.a)(this,t),r=a.call(this,e);var n=localStorage.getItem("jwt"),o=r.props.loggedIn;return null==n&&(o=!1),r.state={loggedIn:o},r}return Object(c.a)(t,[{key:"render",value:function(){var e=this,a=this.state.loggedIn;return n.a.createElement(E.a,null,n.a.createElement(m.a,{bg:"dark",variant:"dark",expand:"lg"},n.a.createElement(m.a.Brand,{as:E.b,to:"/inicio"},"A Noticias"),n.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(d.a,{className:"mr-auto"},n.a.createElement(d.a.Link,{as:E.b,to:"/inicio"},"Inicio"),n.a.createElement(d.a.Link,{as:E.b,to:"/agregarnoticia"},"Nueva noticia"),n.a.createElement(d.a.Link,{as:E.b,to:"/misnoticias"},"Mis noticias"),n.a.createElement(d.a.Link,{as:E.b,to:"/publicarnoticias"},"Publicar noticias"),n.a.createElement(d.a.Link,{as:E.b,to:"/categorias"},"Categorias"),n.a.createElement(d.a.Link,{as:E.b,to:"/usuarios"},"Usuarios"),n.a.createElement(d.a.Link,{as:E.b,to:"/configuracion"},"Configuraci\xf3n"),a?n.a.createElement(d.a.Link,{as:E.b,to:"/logout",onClick:function(){return e.setState({loggedIn:!1})}},"Cerrar sesi\xf3n"):n.a.createElement(d.a.Link,{as:E.b,to:"/login",onClick:function(){return e.setState({loggedIn:!0})}},"Iniciar sesi\xf3n")))),n.a.createElement(g.d,null,n.a.createElement(g.b,{path:"/inicio"},n.a.createElement(V,null)),n.a.createElement(g.b,{path:"/agregarnoticia"},n.a.createElement(k,null)),n.a.createElement(g.b,{path:"/categorias"},n.a.createElement(x,null)),n.a.createElement(g.b,{path:"/registrarse"},n.a.createElement(D,null)),n.a.createElement(g.b,{path:"/usuarios"},n.a.createElement(z,null)),n.a.createElement(g.b,{path:"/noticia/:id"},n.a.createElement(K,null)),n.a.createElement(g.b,{path:"/login"},n.a.createElement(X,null)),n.a.createElement(g.b,{path:"/logout"},n.a.createElement(Y,null)),n.a.createElement(g.b,{path:"/configuracion"},n.a.createElement(Z,null)),n.a.createElement(g.b,{path:"/misnoticias"},n.a.createElement(ae,null)),n.a.createElement(g.b,{path:"/publicarnoticias"},n.a.createElement(re,null))))}}]),t}(r.Component);function oe(){return n.a.createElement("div",null,n.a.createElement(ne,null))}t(258);l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(oe,null)),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.39507bfb.chunk.js.map